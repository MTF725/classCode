<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#Canvas {
				border: 1px solid red;
				display: block;
				margin: 50px auto;
			}
		</style>
	</head>

	<body>
		<canvas id="Canvas" width="1000" height="700"></canvas>
		<script type="text/javascript">
			//1.获取Canvas DOM元素
			var CanvasE = document.getElementById("Canvas");
			console.log(CanvasE);

			//2.获取画笔对象(核心)
			var context = CanvasE.getContext("2d");

			//3.获取图像像素信息
			var img = new Image();
			img.src = "img/325695.jpg";

			img.onload = function() {
				//context.drawImage(img, 0, 0, CanvasE.width, CanvasE.height);
				/*
				 * 获取canvas画布上的图像像素信息
				 * getImageData(x,y,w,h);
				 * 
				 * 返回值：imageData对象，该对象里存储了对应区域的像素信息
				 * 
				 * 返回值对象有三个属性：
				 * 1.data:存储了所有像素点信息的一维数组，数组里，每相邻4个值表示一个像素点的rgba值，a值在canvas里取值范围0-255；
				 * 2.width：获取的像素点区域的宽度
				 * 3.height：获取的像素点区域的高度
				 */
				//var imgDataObj = context.getImageData(0, 0, CanvasE.width, CanvasE.height);
				//console.log(imgDataObj)
			}

			/*
			 * createImageData(w，h)
			 * 创建一个图片信息对象
			 */
			var newImageData = context.createImageData(200, 200);
			console.log(newImageData);
			for(var i = 0; i < newImageData.data.length / 4; i++) {
				newImageData.data[i * 4] = Math.floor(Math.random() * 256);
				newImageData.data[i * 4 + 1] = Math.floor(Math.random() * 256);
				newImageData.data[i * 4 + 2] = Math.floor(Math.random() * 256);
				newImageData.data[i * 4 + 3] = Math.floor(Math.random() * 256);
			}
			context.putImageData(newImageData,100,100);
			
			/*
			 * putImageData()
			 * 将imageData对象  重新绘制到canvas画布上
			 * 写法1：
			 * putImageData(imageData对象，x，y);
			 * imageData:绘制的像素点对象
			 * x，y：绘制到画布上的位置
			 * 
			 * 写法2：
			 * putImageData(imageData对象,x,y,dx,dy,dw,dh)；
			 * imageData:绘制的像素点对象
			 * x,y：绘制到画布上的位置
			 * dx，dy：要截取的imageData图像区域的起始位置
			 * dw，dh：要截取的imageData图像区域的大小
			 */
		</script>
	</body>

</html>