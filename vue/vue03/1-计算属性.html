<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>1-计算属性</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<div id="app">
    <button @click="a++">变量a自增</button>
    <button @click="b++">变量b自增</button>
    <button @click="c++">变量c自增</button>
    <p>a的值:{{a}}</p>
    <p>b的值:{{b}}</p>
    <p>c的值:{{c}}</p>
    <!--<p>a+c的值:{{a+c}}</p>-->
    <!--<p>b+c的值:{{b+c}}</p>-->
    <hr>
    <h2>用函数解决复杂逻辑</h2>
    <!--用函数写法时，data数据一发生改变，画面就被重新渲染，不管此数据是否关系到每个函数，每个函数都会重新调用，所以用函数解决复杂逻辑的方法效率很低-->
    <!--函数名()-->
   <!-- <p>a+c的值:{{ AplusC()}}</p>
    <p>b+c的值:{{ BplusC()}}</p> -->
    <h2>用计算属性解决复杂逻辑</h2>
    <!--直接写函数名，不加括号-->
	<p>a+c的值:{{AaddC}}</p>
    <p>b+c的值:{{BaddC}}</p>
    <hr>
    <!--<h2>普通写法</h2>-->
    <!--<p>此学生的姓名:{{stuName}}</p>-->
    <!--<button @click="stuName='破忒头'">点击修改学生姓名</button>-->
    <h2>计算属性写法</h2>
    <!--SN的get方法-->
    <p>此学生的姓名是:{{sN}}</p>
    <!--SN的set方法-->
    <button @click="sN='小土豆'">点击修改学生姓名</button>
</div>
<script type="text/javascript">
    /*
       计算属性：为了在模板内解决复杂的逻辑

       计算属性与普通方法的区别：
     */
    let app = new Vue({
        el: "#app",
        data: {
            a: 0,
            b: 0,
            c: 0,
            stuName:"potato"
        },
        methods:{
            //a+c的复杂逻辑函数
            AplusC(){
                console.log("a+c函数触发了")
                return this.a+this.c;
            },
            //b+c的复杂逻辑函数
            BplusC(){
                console.log("b+c函数触发了")
                return this.b+this.c;
            }
        },
        //计算属性
        computed:{
            //该字段用来声明计算属性，计算属性的表现形式，可以是一个函数，也可以是一个对象，对象里再声明函数
            AaddC(){
                console.log("a+c函数触发了")
                return this.a+this.c;
                },
            BaddC(){
                console.log("b+c函数触发了")
                return this.b+this.c;
               },
            /*
                计算属性写成对象形式，是计算属性的高阶用法，在计算属性的对象里会用两个方法，set和get，在今后的过程中，系统会根据用户如何操作计算属性，自动调用计算属性内部的set或者get方法。注意：set和get方法不要亲自调用！
             */
            sN:{
                //set和get是vue自带的方法
                get(){
                    console.log("sN的get方法触发了")
                    return this.stuName;
                },
                set(newName){
                    console.log("sN的set方法触发了")
                   this.stuName=newName;
                }
            }

        }
    })
</script>
</body>
</html>